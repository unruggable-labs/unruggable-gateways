import { NitroRollup } from '../../src/arbitrum/NitroRollup.js';
import { createProviderPair } from '../providers.js';

const config = NitroRollup.apeMainnetConfig;
const rollup = new NitroRollup(createProviderPair(config), config);

console.log({
  Rollup: rollup.Rollup.target,
  defaultWindow: rollup.defaultWindow,
});

console.log(new Date());

const commits = await rollup.fetchRecentCommits(10);
console.log(commits[0]);
const v = commits.map((x) => Number(x.index));
console.log(v.slice(1).map((x, i) => v[i] - x));

// 2025-02-23T05:40:46.047Z
// {
//   index: 3990n,
//   prover: EthProver[block=10129055],
//   encodedRollupProof: "0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000f95b8aa8055a9351cae457ef17beccd45156dc65cd6a86734e031e47ee30a2b796400000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000226f90223a04d11e86559e91bf78610ee168bf2943a953770f0949ca5a1a1934c6b534e581fa01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794a4b000000000000000000073657175656e636572a066bf2773d3af99a0d05a6b53062aed5dfa65933cf73a22bcab49c88c22296c4da06526bfe6f4e86a138ac8bb54f615715c017c84cdadaed50f523947bf99c1b80fa0f1bc4e6b84e8014c1eb56227dafff4cc7e5e9784ac59591d13993ee8778e6fe0b901000000000000000000000000000000001000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000200000000000004000000000000000000002000200000000000000000000000000000000000000000000000000001000000000000000100000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020080000000000000000000000000000000000000000000000000000000001839a8e9f870400000000000082b49f8467b2330ca0b8aa8055a9351cae457ef17beccd45156dc65cd6a86734e031e47ee30a2b7964a0000000000000027b00000000014d91ed0000000000000020000000000000000088000000000000025b8505eb30f2500000000000000000000000000000000000000000000000000000",
//   sendRoot: "0xb8aa8055a9351cae457ef17beccd45156dc65cd6a86734e031e47ee30a2b7964",
//   rlpEncodedBlock: "0xf90223a04d11e86559e91bf78610ee168bf2943a953770f0949ca5a1a1934c6b534e581fa01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794a4b000000000000000000073657175656e636572a066bf2773d3af99a0d05a6b53062aed5dfa65933cf73a22bcab49c88c22296c4da06526bfe6f4e86a138ac8bb54f615715c017c84cdadaed50f523947bf99c1b80fa0f1bc4e6b84e8014c1eb56227dafff4cc7e5e9784ac59591d13993ee8778e6fe0b901000000000000000000000000000000001000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000200000000000004000000000000000000002000200000000000000000000000000000000000000000000000000001000000000000000100000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020080000000000000000000000000000000000000000000000000000000001839a8e9f870400000000000082b49f8467b2330ca0b8aa8055a9351cae457ef17beccd45156dc65cd6a86734e031e47ee30a2b7964a0000000000000027b00000000014d91ed0000000000000020000000000000000088000000000000025b8505eb30f250",
//   prevNum: 3989n,
// }
// [ 1, 1, 1, 1, 1, 1, 1, 1, 1 ]
