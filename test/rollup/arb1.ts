import { BoLDRollup } from '../../src/arbitrum/BoLDRollup.js';
import { createProviderPair } from '../providers.js';

console.log(new Date());

const config = BoLDRollup.arb1MainnetConfig;
const rollup = new BoLDRollup(createProviderPair(config), config);

const commits = await rollup.fetchRecentCommits(8);
console.log(commits[0]);
const v = commits.map((x) => Number(x.index));
console.log(v);
console.log(v.slice(1).map((x, i) => v[i] - x));

// 2025-03-06T01:52:08.195Z
// {
//   Rollup: "0x4DCeB440657f21083db8aDd07665f8ddBe1DCfc0",
//   defaultWindow: 1800,
// }
// {
//   index: 21938478n,
//   prover: EthProver[block=310461897],
//   confirmed: true,
//   assertionHashes: [ "0xc437c00e8d6fea3e43c57583ac6e4e25b42f34b41cd2c51c7fdd318d8f38a6b9",
//     "0x9fe2f2cbd8588650233d2e0ae221cb0dc56698b284c2d624aa31529059d24326"
//   ],
//   encodedRollupProof: "0x0000000000000000000000000000000000000000000000000000000000000020c437c00e8d6fea3e43c57583ac6e4e25b42f34b41cd2c51c7fdd318d8f38a6b900000000000000000000000000000000000000000000000000000000000001203bc3a3348ce29dd4619a51686d9698e4022ee6aa724569e7fb4e3bdf4a606f7fe4be013397ed4661459bc61d0764b648e9c02c4ae10c8bdacf5ae7c63f6ad3ab00000000000000000000000000000000000000000000000000000000000c9b6f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001daef3821746c5824d6549765bdce59f8dcb6f9eb6a37886db63c5645c08e67af00000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000040a25599ebefdcbacf29ddb4f0ade417eeff7cbf163c998fc0019bcfa39236deb60850b7883376659404d29da590eb820a998c98ae0a74dd722307ced99da6d8570000000000000000000000000000000000000000000000000000000000000226f90223a0ba6fe149682a718298bc5e5de2923523b0872202379a1c8cd9d790ebf3ca7056a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794a4b000000000000000000073657175656e636572a05825076dfe35642fe1d0b7cd18572a6b983305bacc2c5894f94f80d34355a236a0332f700820efa772f6659c9a977cb05da3f7409f2ecc9c38e637e0fc04fcb669a0b0929c73504fb3489efe8b8d34ad238ffaba4b14b6aab02ab638b450b0f9aa7cb90100000000020000000000080000000000200000000000000000200010000000000100000000000000000000000000820084080050010400200100000000040000000400000100400008000000080000800000000000040080000000000000000800000080000200000200001004000008000000000000000000000000100008000000000000010000000000000000000008000000002000000000000000000000000000000000000000400000008000000000000000000000000000000000000000000020020020020000000000008000000000000000000000004000000000240400000002000010000000000000103000000000000000000040000000000400000184128145c987040000000000008307e08c8467c071c3a0e4be013397ed4661459bc61d0764b648e9c02c4ae10c8bdacf5ae7c63f6ad3aba0000000000002266600000000014ebff9000000000000002000000000000000008800000000001cc4cd839896800000000000000000000000000000000000000000000000000000",
// }
// [ 297, 299, 299, 301, 300, 299, 300, 297, 298 ]
